{% include 'header.html' %}
{% load static %}

    <div class="content">


        <div class="stats">

            <div class="stats-box">
                <div class="stats-box-inside">
                    <h6>Total Villages</h6>
                    <h2>40</h2>  <!-- dummy -->
                    <i class="far fa-map-marker-alt"></i>

                </div>
            </div>
            <div class="stats-box">
                <div class="stats-box-inside">
                    <h6>Chairmen</h6>
                    <h2>40</h2> <!-- dummy -->
                    <i class="far fa-users-crown"></i>
                </div>
            </div>
            <div class="stats-box">
                <div class="stats-box-inside">
                    <h6>People</h6>
                    <h2>400</h2> <!-- dummy -->
                    <i class="far fa-user-friends"></i>
                </div>
            </div>
            <div class="stats-box">
                <div class="stats-box-inside">
                    <h6>Surveys Taken</h6>
                    <h2>100</h2> <!-- dummy -->
                    <i class="far fa-poll-people"></i>
                </div>
            </div>

        </div>

        <div class="single-line">
            <div class="left">
                <div class="brd c-left">
                    <p>Statistics</p> <br>
                    <div id="chartContainer" style="height: 300px;"></div>
                </div>
            </div>

            <div class="right">
                <div class="brd c-left">
                    <p>Vulnerability Ratio</p><br>
                    <div id="chartContainerPie" style="height: 300px;"></div>
                </div>
            </div>
        </div>


        <!--            table starts-->


        <div class="single-line list-holder">
            <div class="one">
                <div class="brd c-left">
                    <p>High Vulnerable Group</p> <br>

                    <table>
                        <tr>
                            <th>Name</th>
                            <th>Phone</th>
                            <th>Points</th>
                        </tr>

<!--
                        <?php

                        $high_count = 0;

                        foreach ($survey_people as $sp) {

                            if ($sp['avgg'] < 3) {
                                echo '<tr> <td> ' . $sp['name'] . '</td> <td> ' . $sp['phone'] . '</td> <td> ' . $sp['avgg'] . '</td></tr>';
                                $high_count++;
                            }
                        }
                        ?>
-->
                    </table>


                    <button style="margin-left: 20px;
    margin-bottom: 19px;
    padding: 5px 23px;
    background: #31708f;
    border: 0;
    color: #fff;
    border-radius: 4px;
    margin-top: 10px;">
                        Print
                    </button>

                </div>
            </div>

            <div class="two">
                <div class="brd c-left">
                    <p>Medium Vulnerable Group</p><br>

                    <table>
                        <tr>
                            <th>Name</th>
                            <th>Phone</th>
                            <th>Points</th>
                        </tr>

<!--
                        <?php

                        $mid_count = 0;

                        foreach ($survey_people as $sp) {

                            if ($sp['avgg'] < 4 && $sp['avgg'] > 3) {
                                echo '<tr> <td> ' . $sp['name'] . '</td> <td> ' . $sp['phone'] . '</td> <td> ' . $sp['avgg'] . '</td></tr>';

                                $mid_count++;

                            }

                        }
                        ?>
-->
                    </table>

                    <button style="margin-left: 20px;
                            margin-bottom: 19px;
                            padding: 5px 23px;
                            background: #31708f;
                            border: 0;
                            color: #fff;
                            border-radius: 4px;
                            margin-top: 10px;">
                        Print
                    </button>

                </div>
            </div>

            <div class="three">
                <div class="brd c-left">
                    <p>Low Vulnerable Group</p><br>
                    <table>
                        <tr>
                            <th>Name</th>
                            <th>Phone</th>
                            <th>Points</th>
                        </tr>

<!--
                        <?php
                        foreach ($survey_people as $sp) {
                            $low_count = 0;
                            if ($sp['avgg'] > 4) {
                                echo '<tr> <td> ' . $sp['name'] . '</td> <td> ' . $sp['phone'] . '</td> <td> ' . $sp['avgg'] . '</td></tr>';
                                $low_count++;
                            }
                        }
                        ?>
-->
                    </table>

                    <button style="margin-left: 20px;margin-bottom: 19px;padding: 5px 23px;background: #31708f;
                        border: 0; color: #fff; border-radius: 4px; margin-top: 10px;">
                        Print
                    </button>

                </div>
            </div>
        </div>


    </div>


    <script>


        let options = {
            animationEnabled: true,
            title: {
                text: ""
            },
            axisY: {

                interval: 10,
                minimum: 0,
                maximum: 20, // count total survey people dummy
                labelFontSize: 13,
                gridColor: "#ddd",

            },

            axisX: {

                labelFontSize: 14,
                gridColor: "#ddd",
                labelAngle: 0,
                labelWrap: true,

            },
            data: [{
                type: "column",
                indexLabelPlacement: "inside",
                indexLabelFontColor: "white",
                indexLabelFontWeight: 600,
                yValueFormatString: "#",
                indexLabel: "{y}",
                indexLabelFontSize: 15,
                dataPoints: [
                    {label: "Total People", y: 20 },// count total survey people dummy
                    {label: "High Vulnerable", y: 10, color: "#f5584e"}, // count high vul survey people dummy
                    {label: "Medium Vulnerable", y: 8 }, // count medium vul survey people dummy
                    {label: "Low Vulnerable", y: 2, color: "#269ea9",}, // count low vul survey people dummy

                ]
            }]
        };


        $("#chartContainer").CanvasJSChart(options);


    </script>

    <script type="text/javascript">
        window.onload = function () {
            let chart = new CanvasJS.Chart("chartContainerPie", {
                animationEnabled: true,
                title: {
                    text: "",
                    fontColor: "#333",
                    fontSize: 20,
                    fontWeight: 50,
                },
                data: [
                    {
                        showInLegend: true,
                        type: "pie",
                        indexLabel: "#percent%",
                        percentFormatString: "#0.##",
                        toolTipContent: "{label} (#percent%)",
                        dataPoints: [

                            {label: "High Vulnerable", y: 35.2, color: "#f5584e", name: "High Vulnerable",},
                            {label: "Medium Vulnerable", y: 46.5, color: "#4f81bd", name: "Medium Vulnerable",},
                            {label: "Low Vulnerable", y: 18.1, color: "#9bbc58", name: "Low Vulnerable",},

                        ]
                    }
                ]
            });
            chart.render();
        }
    </script>

